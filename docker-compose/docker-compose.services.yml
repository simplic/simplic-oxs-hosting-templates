version: '3.7'

services:
  simplic_mail:
    image: 'simplic.azurecr.io/simplic-oxs-mail:latest'
    container_name: simplic_mail
    hostname: 'simplic_mail'
    ports:
      - '8086:80'
    labels:
      NAME: 'simplic_mail'
    depends_on:
       - mongodb
       - rabbitmq
       - otel-collector
    environment:
       - ASPNETCORE_ENVIRONMENT=Development
    networks:
      - backend
      - frontend

  simplic_member:
    image: 'simplic.azurecr.io/simplic-oxs-member:latest'
    container_name: simplic_member
    hostname: 'simplic_member'
    ports:
      - '8085:80'
    labels:
      NAME: 'simplic_member'
    depends_on:
       - mongodb
       - rabbitmq
       - otel-collector
    environment:
       - ASPNETCORE_ENVIRONMENT=Development
    networks:
      - backend
      - frontend
